[
{
    "name": "resource",
    "method":"GET",
    "property" : "public",
    "comment":"查询资产详情",

    "request": [
        {"name":"no", "type":"string", "must":true, "min":1, "comment":"资产编号"}
    ],

    "process" : [
        {
            "name" : "res_detail",
            "type" : "rdb",
            "db": "resource",
            "sqls" : [{
                "name" : "res",
                "metas" : "each",
                "multi" : false,
                "merge" : true,
                "sql":"select id,sku,createAt,state,num,val from resource where no='@{no}'"
            }]
        },
        {
            "name" : "sku_detail",
            "type" : "rdb",
            "db": "common",
            "sqls" : [{
                "name" : "sku",
                "metas" : "each",
                "multi" : false,
                "merge" : false,
                "sql":"select price,lossRate,supplier,name,speci,cmt from sku where id=@{!sku}"
            }]
        }
    ]
},
{
    "name": "sku",
    "method":"GET",
    "property" : "public",
    "comment":"查询SKU详情",

    "request": [
        {"name":"id", "type":"int", "must":true, "min":0, "comment":"sku编号"}
    ],

    "process" : [
        {
            "name" : "sku_detail",
            "type" : "rdb",
            "db": "common",
            "cache":"@{id}",
            "sqls" : [{
                "name" : "sku",
                "metas" : "each",
                "multi" : false,
                "merge" : true,
                "sql":"select price,lossRate,supplier,name,speci,cmt from sku where id=@{!sku}"
            }]
        }
    ]
},
{
    "name": "searchsku",
    "method":"GET",
    "property" : "public",
    "comment":"搜索SKU",

    "request": [
        {"name":"name", "type":"strig", "must":true, "min":1, "comment":"sku名称，可以是部分"}
    ],

    "process" : [
        {
            "name" : "sku_detail",
            "type" : "rdb",
            "db": "common",
            "sqls" : [{
                "name" : "sku",
                "metas" : "each",
                "multi" : false,
                "merge" : true,
                "sql":"select price,deprRate,supplier,name,speci,cmt
                 from sku where name like '@{name}%'"
            }]
        }
    ]
},
{
    "name": "supplier",
    "method":"GET",
    "property" : "public",
    "comment":"查询供应商详情",

    "request": [
        {"name":"id", "type":"int", "must":true, "min":0, "comment":"供应商ID"}
    ],

    "process" : [
        {
            "name" : "supplier_detail",
            "type" : "rdb",
            "db": "common",
            "sqls" : [{
                "name" : "supplier",
                "metas" : "each",
                "multi" : false,
                "merge" : true,
                "sql":"select createAt,name,taxid,creator,add,business
                 from supplier where id=@{id}"
            }]
        }
    ]
},
{
    "name": "searchsupplier",
    "method":"GET",
    "property" : "public",
    "comment":"搜索供应商",

    "request": [
        {"name":"name", "type":"string", "must":true, "min":1, "comment":"供应商名称，可以是部分"}
    ],

    "process" : [
        {
            "name" : "supplier_detail",
            "type" : "rdb",
            "db": "common",
            "sqls" : [{
                "name" : "supplier",
                "metas" : "each",
                "multi" : false,
                "merge" : true,
                "sql":"select createAt,name,taxid,creator,add,business
                 from supplier where name like '@{name}%'"
            }]
        }
    ]
},
{
    "name": "warehouse",
    "method":"GET",
    "property" : "public",
    "comment":"查询仓库详情",

    "request": [
        {"name":"id", "type":"int", "must":true, "min":0, "comment":"仓库ID"}
    ],

    "process" : [
        {
            "name" : "warehouse_detail",
            "type" : "rdb",
            "db": "common",
            "sqls" : [{
                "name" : "warehouse",
                "metas" : "each",
                "multi" : false,
                "merge" : true,
                "sql":"select name,addr,cmt from warehouse where id=@{id}"
            }]
        }
    ]
}
]